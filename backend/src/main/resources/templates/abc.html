<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>XÃ¡c nháº­n tiÃªm chá»§ng cho há»c sinh</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
  <style>
    .vaccine-card {
      background: #fff;
      border: 1px solid #e3e3e3;
      border-radius: 8px;
      margin-bottom: 20px;
      padding: 16px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.03);
    }
    .vaccine-card.disabled {
      opacity: 0.7;
      pointer-events: none;
    }
  </style>
</head>
<body class="bg-light">
<div class="container py-5">
  <h2 class="mb-4">XÃ¡c nháº­n tiÃªm chá»§ng cho há»c sinh</h2>
  <!-- ThÃ´ng tin há»c sinh -->
  <div class="card mb-4">
    <div class="card-body">
      <h5 class="card-title">ğŸ‘¦ Há»c sinh: Nguyá»…n VÄƒn An</h5>
      <p class="card-text mb-1">
        Lá»›p: 2A<br>
        NgÃ y sinh: 12/03/2018
      </p>
      <span class="badge bg-info">Káº¿ hoáº¡ch: TiÃªm chá»§ng ThÃ¡ng 8/2025</span>
    </div>
  </div>

  <!-- Danh sÃ¡ch cÃ¡c vaccine trong plan -->
  <form id="vaccine-confirm-form" action="/api/parent/confirm-vaccines" method="POST">
    <input type="hidden" name="studentId" value="12345">
    <input type="hidden" name="planId" value="2025">

    <div class="mb-4">
      <h5 class="mb-3">ğŸ“‹ Danh sÃ¡ch cÃ¡c mÅ©i tiÃªm cáº§n xÃ¡c nháº­n:</h5>

      <!-- Láº·p qua tá»«ng vaccine/mÅ©i trong plan -->
      <div class="vaccine-card" id="vaccine1">
        <strong>DPT (Báº¡ch háº§u, ho gÃ , uá»‘n vÃ¡n)</strong> â€“ Liá»u 1<br>
        <div class="form-check mt-2">
          <input class="form-check-input" type="radio" name="assignment_1" id="appr1" value="APPROVED" required>
          <label class="form-check-label" for="appr1">TÃ´i Ä‘á»“ng Ã½ tiÃªm mÅ©i nÃ y</label>
        </div>
        <div class="form-check">
          <input class="form-check-input reject-radio" type="radio" name="assignment_1" id="rej1" value="REJECTED">
          <label class="form-check-label" for="rej1">TÃ´i tá»« chá»‘i tiÃªm mÅ©i nÃ y</label>
        </div>
        <input type="text" class="form-control mt-2 d-none" name="reason_1" placeholder="LÃ½ do tá»« chá»‘i (náº¿u cÃ³)" id="reason_1">
      </div>

      <div class="vaccine-card" id="vaccine2">
        <strong>Sá»Ÿi â€“ Rubella</strong> â€“ Liá»u 1<br>
        <div class="form-check mt-2">
          <input class="form-check-input" type="radio" name="assignment_2" id="appr2" value="APPROVED" required>
          <label class="form-check-label" for="appr2">TÃ´i Ä‘á»“ng Ã½ tiÃªm mÅ©i nÃ y</label>
        </div>
        <div class="form-check">
          <input class="form-check-input reject-radio" type="radio" name="assignment_2" id="rej2" value="REJECTED">
          <label class="form-check-label" for="rej2">TÃ´i tá»« chá»‘i tiÃªm mÅ©i nÃ y</label>
        </div>
        <input type="text" class="form-control mt-2 d-none" name="reason_2" placeholder="LÃ½ do tá»« chá»‘i (náº¿u cÃ³)" id="reason_2">
      </div>

      <!-- CÃ³ thá»ƒ láº·p Ä‘á»™ng cÃ¡c vaccine á»Ÿ Ä‘Ã¢y tÃ¹y dá»¯ liá»‡u backend tráº£ vá» -->

    </div>

    <div class="text-end">
      <button type="submit" class="btn btn-primary">Gá»­i xÃ¡c nháº­n</button>
    </div>
  </form>
</div>

<script>
  // Hiá»‡n Ã´ nháº­p lÃ½ do náº¿u tá»« chá»‘i
  document.querySelectorAll('.reject-radio').forEach(function(radio) {
    radio.addEventListener('change', function() {
      let idx = this.name.split('_')[1];
      document.getElementById('reason_' + idx).classList.remove('d-none');
    });
  });
  document.querySelectorAll('input[type=radio][value="APPROVED"]').forEach(function(radio) {
    radio.addEventListener('change', function() {
      let idx = this.name.split('_')[1];
      document.getElementById('reason_' + idx).classList.add('d-none');
    });
  });
</script>
</body>
</html>